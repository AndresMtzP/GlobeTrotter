<!DOCTYPE HTML>
<!--
	Theory by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>SDSU - Software</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="subpage">

		<!-- Header -->
			<header id="header">
				<div class="inner">
					<nav id="nav">
						<a href="index.html">Home</a>
						<a href="software.html">Software</a>
						<a href="hardware.html">Hardware</a>
						<a href="media.html">Media</a>
					</nav>
					<a href="#navPanel" class="navPanelToggle"><span class="fa fa-bars"></span></a>
				</div>
			</header>

		<!-- Three -->
			<section id="three" class="wrapper">
				<div class="inner">
					<header class="align-center">
						<h2>Software Components</h2>
						<p>Information gathering and presentation</p>
					</header>
					<p>The software portion of our project is responsible for user interaction via voice and gesture commands, gathering and formatting information about different locations, and also providing feedback to the user through a graphical user interface and voice. The following diagram illustrates at a high level how all the software components are connected in order to achieve our goal of providing a good user experience.</p>
					<header class="align-center">
						<h3>Software Flow Diagram</h3>
					</header>
					<div class="align-center">
						<img src="images/software_flow.png"/>
					</div>
					<h3>Programming Languages and Software</h3>
					<ul>
						<li>Python 2.7, C, and C++</li>
						<li>HTML/CSS</li>
						<li>Javascript</li>
						<li>MySQL Database</li>
						<li>Apache Webserver</li>
						<li>Debian OS</li>
						<li>Bash scripting</li>
					</ul>
					<h3>APIs and MySQL Database for Location Information</h3>
					<ul>
						<li>Teleport API - City based searches for location information</li>
						<li>Flickr API - Photos based on text input and tags</li>
						<li>Google Maps API - Map animations and geographical visualization</li>
						<li>Alexa Voice Service - Custom voice interface and control</li>
						<li>MySQL - Globetrotters Database
								<ul>
									<li>Countries Table</li>
									<li>States Table</li>
									<li>Cities Table</li>
								</ul>
						</li>
					</ul>
					<p>These APIs are used to gather location specific information based on the users request. The Teleport API provides our application with a variety of different information about a location such as it's population, latitude and longitude, climate, etc. They reference a large amount of cities (over 140,000) and pull their information from other databases that hold geographical information such as GeoNames. Since the information that is requested from this API is tailored to fit queries, we parsed their entire database ahead of time to store country and admin 1 division locations (similar to state information in the United States) in our own MySQL database, hosted on the Raspberry Pi 3. In doing so, we can refine the information served to the GUI to better fit a user's request. Furthermore, the Google Photos API is used to retrieve images of a location based on latitude and longitude coordinates. These images are presented to the user after a successful location request has been made. Mapbox is used by our application to navigate to different areas, providing the user with a visual representation of where the requested location is on the map. The Alexa Voice Service allows us to create our own custom voice interface, giving users several voice commands to interact with Trotter. 
					</p>
					<header class="align-center">
						<h3>User Location Request Flow Diagram</h3>
					</header>
					<div class="align-center">
							<img src="images/backendflow.png"/>
						</div>
					<p>The above diagram illustrates how user location requests are handled after interacting with the voice interface. This is the backend software flow and is primarily coded in Python. When a user makes a location request, the location string is parsed from the user input and sent to several python functions. The functions will first query the MySQL database for countries and states that match the input string, then make a request to the Teleport API for city matches. After information is found for the location, a JSON file is generated to provide the GUI and Alexa Voice Service to present it to the user. While the queries and requests for the location string is being processed, calls are also being made in parallel to the Flickr API to find images of the location which is also displayed to the user through the GUI. 
					</p>
					<header class="align-center">
						<h3>Graphical User Interface</h3>
					</header>
					<div class="align-center">
						<img src="images/gui_display.png"/>
					</div>
					<br>
					<p>The graphical user interface (GUI) is used to display relevant information about the location to the user. The first image on the left shows the main screen of the GUI after a user requests information about a location. The data shown is the general information about the location. The user can also request more detailed information about the location that they are currently on. In addition, the user also has the option to view more information about locations related to their request. This is shown in the second image on the right. The number of extra locations is limited to 10. The GUI also contains additional pages such as Welcome, Help, and About, which gives the user more information about the project and also how to user Trotter. This is all shown on a 7 inch display and is coded using HTML/CSS and Javascript and is hosted locally on the Raspberry Pi 3 using Apache.</p>
					<h3>Rotation</h3>
					<p>Trotter has the ability to rotate to a specific location that the user requests on the globe. The rotation script rotates an azimuthal equidistant image of the globe in software using Python. This image is projected through a fisheye lens which wraps it around a transparent sphere. This allows the user to see an actual globe on the sphere that rotates to the location requested and is one of the key differences between the virtual globe and the physical globe. The physical globe uses hardware to rotate the globe as opposed to being fully implemented in software. An example of the rotation script and projected globe are shown below.</p>
					<div class="align-center">
						<img src="images/projglobe.png" width="600" height="360"/>
						<img src="images/projtest4.png" width="400" height="360"/>
					</div>
				</div>
			</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<div class="flex">
						<div class="copyright">
							&copy; SDSU Globetrotters. Design: <a href="https://templated.co">TEMPLATED</a>.
						</div>
					</div>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>